{% extends 'base.html' %}

{% block title %}
    Force Creator
{% endblock title %}

{% block content %}
    
    <!-- <div class='container-fluid min-vh-100 bg-primary'>
        <div class='collapse container min-vh-100 p-0 bg-secondary border border-2 border-top-0 border-bottom-0 border-info' id='main-area'> -->
            
            <!-- HEADER -->
            <div class='container-fluid border border-5 border-start-0 border-end-0 border-secondary bg-warning'>
                <h1 class='main_header m-1 text-center'>
                    <i>Blood & Plunder Force Creator</i>
                </h1>
            </div>

            <div class='container p-2 pt-0 m-0'>
                
                <!-- MAIN SELECT  -->
                <div class='container-fluid rounded-3 bg-warning p-0 pe-3'>

                    <form>
                    <div class='row'>

                        <div class='col m-1 ms-0'>                            
                            <div class='row g-0 mt-1 align-items-center'>
                                <div class='col-4 p-0 pe-2 text-end'>
                                    <i class='force-selector-label form-label'>{{force_selection.force_name.label}}:</i>
                                </div>
                                <div class='col-8 p-0'>
                                    {{force_selection.force_name(class_='form-control force-selector-field rounded-2 text-center pt-0 pb-0 border border-2 border-secondary')}}
                                </div>
                            </div>
                            
                            <div class='row g-0 mt-1 align-items-center'>
                                <div class='col-4 p-0 pe-2 text-end'>
                                    <i class='force-selector-label form-label'>{{force_selection.point_max.label}}:</i>
                                </div>
                                <div class='col-8 p-0'>
                                    <div class='row g-0'>
                                        <div class='col-6 col-md-4 p-0'>
                                            {{force_selection.point_max(class_='form-control force-selector-field rounded-2 text-center pt-0 pb-0 border border-2 border-secondary')}}
                                        </div>
                                        <div class='col p-0'>
                                            <!-- Empty space next to max point input -->
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class='row g-0 mt-1 align-items-center'>
                                <div class='col-4 p-0 pe-2 text-end'>
                                    <!-- Empty space below point max label -->
                                </div>
                                <div class='col-8 p-0 fell text-info fs-6' id='unit-size-range-display'>
                                    <!-- Space under point max input (filled by js) -->
                                </div>
                            </div>
                        </div>

                        <div class='col m-1 ms-0'>      

                            <div class='row mt-1 align-items-center'>
                                <div class='col-4 p-0 pe-2 text-end'>
                                    <i class='force-selector-label form-label'>{{force_selection.select_nation.label}}:</i>
                                </div>
                                <div class='col-8 p-0'>
                                    {{force_selection.select_nation(class_='form-control force-selector-field rounded-2 text-center pt-0 pb-0 border border-2 border-secondary')}}
                                </div>
                            </div>
                                          
                            <div class='row mt-1 align-items-center'>
                                <div class='col-4 p-0 pe-2 text-end'>
                                    <i class='force-selector-label form-label'>{{force_selection.select_faction.label}}:</i>
                                </div>
                                <div class='col-8 p-0'>
                                    {{force_selection.select_faction(class_='form-control force-selector-field rounded-2 text-center pt-0 pb-0 border border-2 border-secondary')}}
                                </div>
                            </div>

                            <div class='row mt-1 align-items-center'>
                                <div class='col-4 p-0 pe-2 text-end'>
                                    <i class='force-selector-label form-label'>{{force_selection.select_commander.label}}:</i>
                                </div>
                                <div class='col-8 p-0'>
                                    {{force_selection.select_commander(class_='form-control force-selector-field rounded-2 text-center pt-0 pb-0 border border-2 border-secondary')}}
                                </div>
                            </div>

                        </div>

                    </div>
                    </form>
                    
                </div>

                <!-- WELCOME AREA -->
                <div class='container-fluid rounded-3 bg-warning p-2 mt-1 mb-0 fill-screen-scrollable' id='welcome-area'>
                    <div class='container mx-auto mb-0'>
                        <h1 class='fell text-info type-shadow text-center mt-1'>Welcome to the FORCE CREATOR</h1>
                        <h2 class='fell text-info type-shadow text-center'>for Blood & Plunder by Firelock Games</h2>
                        <hr class='border border-secondary border-3 rounded-2 opacity-100'>
                        <div class='row'>
                            <div class='col mx-1 my-0 pt-1 bg-info rounded-2 text-secondary fell'>
                                <h3 class='h3 text-primary text-center'>What is Force Creator?</h3>
                                <p>
                                    Force Creator is a list builder for the historical tabletop miniature game, <a href='https://www.firelockgames.com/product-category/blood-plunder/'>Blood & Plunder</a> by <a href='https://www.firelockgames.com/'>Firelock Games</a>. It is designed to streamline the list-building experience and provide a comprehensive reference file for the finished force list. Force Creator is currently in ALPHA phase of release. More features coming soon!
                                </p>
                                <h3 class='h3 text-primary text-center'>How Do?</h3>
                                <p>
                                    After selecting your Nation, Faction, and Commander (above) you will be able to add more elements to your list. You can also set your Force Name and the Max Points for your Force List in the area above. This website is currently formatted for computer monitors. Other devices will be supported soon!
                                </p>
                                <h3 class='h3 text-primary text-center'>Known Bugs</h3>
                                <ul>
                                    <li>Opening a link for a saved Force List into a new tab or window does not work properly.</li>
                                    <li>Clicking too fast on expander icons gets them out of sync.</li>
                                </ul>
                                <h3 class='h3 text-primary text-center'>Planned Features For Beta Launch</h3>
                                <ul>
                                    <li>Feedback Form.</li>
                                    <li>Make fully responsive to work on any size screen.</li>
                                    <li>Pre-Formatted PDF Force List downloads.</li>
                                    <li>Assignment functionality (units and artillery to ship decks, units to artillery, characters and commanders to units). Great Warrior's Unit Option will be implemented along with this.</li>
                                    <li>Add strike point threshold functionality.</li>
                                    <li>Make Piragua and Corvette work without multiple versions (requires additional Ship Upgrade functionality).</li>
                                    <li>Localize dependencies where possible?</li>
                                </ul>
                                <h3 class='h3 text-primary text-center'>Additional Planned Features/Changes</h3>
                                <ul>
                                    <li>Add warnings when force list breaks rules.</li>
                                    <li>Include official structure and terrain options.</li>
                                    <li>Removal x's for entire groups of components (Core Units, Ships, etc) in the build area.</li>
                                    <li>Theme Change Functionality.</li>
                                    <li>Functionality for characters that affect commander options (either require or prohibit certain commanders).</li>
                                    <li>Make build-side interior expanders default to open.</li>
                                </ul>
                            </div>
                            <div class='col-12-sm col-lg mx-1 my-0 pt-1 bg-info rounded-2 text-secondary fell'>
                                <h3 class='h3 text-primary text-center'>New Features</h3>
                                <p>
                                    For those familiar with Force Builder, here are some changes and new features to look out for:
                                </p>
                                <h4 class='h4 text-primary text-center'>Programmed Limitations</h4>
                                    <ul>
                                        <li>Only valid Artillery, Character, and Ship choices are displayed. (Some further refinement may be needed to account for Characters that require Ships of a certain size).</li>
                                        <li>Prevents adding more than one of the same Character (other than Praying Indian) to a Force List.</li>
                                        <li>The two Ship Upgrades that can change Ship stats permanently (Streamlined Hull and Improved Rig) change the displayed/stored values for those characteristics (Draft and Speed)</li>
                                    </ul>
                                <h4 class='h4 text-primary text-center'>Options</h4>
                                    <ul>
                                        <li>Force Options are mutually exclusive.</li>
                                        <li>Standard Commanders have selectable Special Rules. User must self-limit selections.</li>
                                        <li>The two Ship Upgrades that can change Ship stats permanently (Streamlined Hull and Improved Rig) change the the corresponding Ship characteristics (Draft and Speed).</li>
                                    </ul>
                                <h4 class='h4 text-primary text-center'>"Nicknames"</h4>
                                    <ul>
                                        <li>After adding a qualifying component to your Force List just click on the component's name and change it to whatever you want!</li>
                                        <li>Available to all Characters, Ships, Units, and Artillery Groups. Also available to all generic type (not Historic or Legenadary) Commanders.</li>
                                    </ul>
                                    <h4 class='h4 text-primary text-center'>Misc</h4>
                                    <ul>
                                        <li>Artillery can be added as multiple groups (or individuals) of the same type. This allows for assigning the same type of Artillery to more than one Unit.</li>
                                        <li>Language for Faction Special Rules that give a bonus to the roll to determine attacker has been standardized to the RtB version. Card suit names have been standardized to use the appropriate card suit symbol.</li>
                                        <li>There are numerous behind the scenes data and data structure changes and additions that will allow for more and better functionality in the future.</li>
                                    </ul>
                            </div>
                        </div>
                        
                    </div>
                </div>

                <!-- CREATION AREA -->
                <div class='collapse container-fluid m-0' id='build-area'>
                    <div class='row'>

                        <!-- BUILD SIDE -->
                        <div class='col mt-1 mb-0 ms-0 me-0 pt-2 overflow-y-scroll rounded-3 bg-warning' id='build-side' data-list-save='{{ data }}'>
                            
                            <div class='fill-screen-scrollable'>
                                <div class='rounded-2 force-selector-field border border-2 border-secondary'>
                                    <div class='row text-center'>
                                        <div class='col-1'>
                                            <div class='container-fluid d-flex justify-content-center'>
                                                <a href='#fl-options' role='button' data-bs-toggle='collapse'>
                                                    <i class='fa-solid fa-chevron-down' id='fl-options-expand'></i>
                                                </a>
                                            </div>
                                        </div>
                                        <div class='col-7'>
                                            <i id='force-name' class='fs-5'></i>
                                        </div>
                                        <div class='col-4'>
                                             <span id='point-total-display'></span>&nbsp;/&nbsp;
                                             <span id='point-max-display'></span>
                                        </div>
                                    </div>
                                    <div class='collapse text-primry rounded-2 mt-0 px-1 text-primary' id='fl-options'>
                                        <a href='#/' role='button'><i class="fa-solid fa-clock-rotate-left mx-2" id='force-revert'></i></a>
                                        <a href='#/' role='button'><i class="fa-solid fa-floppy-disk mx-2" id='force-save'></i></a>
                                        <i class="fa-solid fa-file-arrow-down mx-2" id='force-download'></i>
                                    </div>
                                </div>

                                <div id='force-info'>
                                    <div class='collapse card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-faction'></div>
                                    <div class='collapse card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-commander'></div>
                                    <div class='card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-core-units'></div>
                                    <div class='card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-support-units'></div>
                                    <div class='card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-fighting-characters'></div>
                                    <div class='card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-civilian-characters'></div>
                                    <div class='card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-ships'></div>
                                    <div class='card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-artillery'></div>
                                    <div class='card m-1 p-1 border border-2 border-secondary rounded-2 bg-info' id='force-misc'></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- MENU SIDE -->
                        <div class='col-12-sm col-lg order-lg-first mt-1 mb-0 me-2 ms-0 pt-2 pb-2 rounded-3 bg-warning'>
                            
                            <div class='row p-0'>
                                <div class='col mx-0'>
                                    <form>
                                        {{add_to_list.component_selector(class_='form-control rounded-2 text-center force-selector-field pt-0 pb-0 border border-2 border-secondary')}}
                                    </form>
                                </div>
                                <div class='col-sm-auto mx-0 ps-0 d-flex flex-row-reverse'>
                                    <button class='btn btn-primary border border-info py-0 px-1 text-info fell' id='add-custom-button'>+ Custom</button>
                                </div>
                            </div>

                            <div class='container rounded-2 text-center text-info fs-4 fell' id='component-instructions'>
                                Please selection a Faction and Commander.
                            </div>
                            <div class='fill-screen-scrollable' id='menu'>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        <!-- </div>
    </div> -->

    <!-- FOOTER -->
    <!-- <div class='container-fluid bg-primary sticky-bottom mb-0' id='footer'>
        <div class='container p-0 pt-1 mb-0 bg-secondary border border-2 border-top-0 border-bottom-0 border-info text-info'>
            <div class='container-fluid border border-5 border-top-0 border-start-0 border-end-0 border-secondary bg-warning m-0'>
                &nbsp;
            </div>
        </div>
    </div> -->

{% endblock content %}

{% block scripts %}    
<script src="{{url_for('static', filename='assets/js/force_creator.js')}}"></script>      
{% endblock scripts %}